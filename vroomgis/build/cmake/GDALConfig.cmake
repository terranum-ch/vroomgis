#search for GDAL lib
# if windows and search geos
IF (WIN32)
  FIND_PATH(GDAL_INCLUDE_DIR gdal.h
    HINTS ${SEARCH_GIS_LIB_PATH}/include
    ${SEARCH_GIS_LIB_PATH}
    NO_DEFAULT_PATH)

  FIND_LIBRARY(GDAL_LIBRARIES
    gdal_i
    HINTS ${SEARCH_GIS_LIB_PATH}/lib
    ${SEARCH_GIS_LIB_PATH}
    NO_DEFAULT_PATH)

  # if unix / mac and search geos
ELSE (WIN32)
  IF(SEARCH_GIS_LIB_PATH)
    FIND_PATH(GDAL_INCLUDE_DIR gdal.h
      PATHS ${SEARCH_GIS_LIB_PATH}/include
      ${SEARCH_GIS_LIB_PATH}
      ${SEARCH_GIS_LIB_PATH}/GDAL.framework/unix/include
      PATH_SUFFIXES gdal  				
      NO_DEFAULT_PATH)

    FIND_LIBRARY(GDAL_LIBRARIES
      gdal NAMES gdal1 gdal1.6.0 gdal1.7.0
      PATHS ${SEARCH_GIS_LIB_PATH}/lib
      ${SEARCH_GIS_LIB_PATH} 
      ${SEARCH_GIS_LIB_PATH}/GDAL.framework/unix/lib
      NO_DEFAULT_PATH)
  ELSE(SEARCH_GIS_LIB_PATH)
    MESSAGE("Searching GDAL on standard PATHS")
    FIND_PATH(GDAL_INCLUDE_DIR gdal.h
      HINTS ${SEARCH_GIS_LIB_PATH}/include
      ${SEARCH_GIS_LIB_PATH}
      PATH_SUFFIXES gdal)

    FIND_LIBRARY(GDAL_LIBRARIES
      gdal NAMES gdal1 gdal1.6.0
      HINTS ${SEARCH_GIS_LIB_PATH}/lib
      ${SEARCH_GIS_LIB_PATH})
  ENDIF(SEARCH_GIS_LIB_PATH)

ENDIF (WIN32)

MARK_AS_ADVANCED(
  GDAL_INCLUDE_DIR
  GDAL_LIBRARIES
  )

## IF GDAL PARAMETERS ARE DEFINED, USE THEM
IF(GDAL_INCLUDE_DIR)
  INCLUDE_DIRECTORIES(${GDAL_INCLUDE_DIR})
ENDIF(GDAL_INCLUDE_DIR)

IF(GDAL_LIBRARIES)
  LINK_LIBRARIES(${GDAL_LIBRARIES})
ENDIF(GDAL_LIBRARIES)

#debug message
MESSAGE (STATUS "GDAL lib is ${GDAL_LIBRARIES}")
MESSAGE (STATUS "GDAL include is ${GDAL_INCLUDE_DIR}")


